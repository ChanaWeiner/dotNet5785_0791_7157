<Window x:Class="PL.AdminHomeWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PL"
        mc:Ignorable="d"
        Title="AdminHomeWindow" Height="450" Width="800"
        Background="#f0f4f8"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}"
        Loaded="AdminHomeWindow_Loaded"
        Closed="Window_Closed">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Upper Section -->
        <Grid Grid.Row="0" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Clock Label -->
            <Label Grid.Column="1" Grid.Row="0" 
                   Content="{Binding CurrentTime}" 
                   FontWeight="Bold" 
                   FontSize="24" 
                   Background="WhiteSmoke" 
                   BorderBrush="#ddd" 
                   BorderThickness="1" 
                   HorizontalContentAlignment="Center" 
                   VerticalContentAlignment="Center"
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Top" 
                   Margin="0,30,0,0"
                   Padding="10"/>

            <!-- Time Add Buttons -->
            <Grid Grid.Column="1" Grid.Row="1" Margin="0,20,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Button Grid.Column="0" Content="+minute" Click="btnAddOneMinute_Click" IsEnabled="{Binding IsSimulatorRunning,Converter={StaticResource InverseBooleanConverterKey}}"/>
                <Button Grid.Column="1" Content="+month" Click="btnAddOneMonth_Click" IsEnabled="{Binding IsSimulatorRunning,Converter={StaticResource InverseBooleanConverterKey}}"/>
                <Button Grid.Column="2" Content="+hour" Click="btnAddOneHour_Click" IsEnabled="{Binding IsSimulatorRunning,Converter={StaticResource InverseBooleanConverterKey}}"/>
                <Button Grid.Column="3" Content="+day" Click="btnAddOneDay_Click" IsEnabled="{Binding IsSimulatorRunning,Converter={StaticResource InverseBooleanConverterKey}}"/>
                <Button Grid.Column="4" Content="+year" Click="btnAddOneYear_Click" IsEnabled="{Binding IsSimulatorRunning,Converter={StaticResource InverseBooleanConverterKey}}"/>
            </Grid>

            <!-- Risk Input -->
            <StackPanel Grid.Column="0" Grid.Row="1" Margin="0,30,0,0" VerticalAlignment="Top" HorizontalAlignment="Center">
                <TextBox Text="{Binding RiskTimeSpan}" Width="140" Height="30" 
                         Background="White" BorderBrush="#ccc" BorderThickness="1"
                         FontSize="14" Padding="5"/>
                <Button Content="Update" Width="140" Margin="0,10,0,0" Click="btnUpdateRiskTimeSpan_Click" IsEnabled="{Binding IsSimulatorRunning,Converter={StaticResource InverseBooleanConverterKey}}"/>
            </StackPanel>

            <Button Grid.Column="2" Grid.Row="0" Content="{Binding ButtonText}" VerticalAlignment="Bottom" Height="50" Width="100" Click="btnStartOrStopSimulator_Click"/>

            <StackPanel Grid.Column="2" Grid.Row="1" Margin="0,30,0,0" VerticalAlignment="Top" HorizontalAlignment="Center">
                <Label Content="interval (minutes per second)" />
                <TextBox Text="{Binding Interval}" Width="140" Height="30" 
             Background="White" BorderBrush="#ccc" BorderThickness="1"
             FontSize="14" Padding="5" IsReadOnly="{Binding IsSimulatorRunning}"/>
            </StackPanel>
            <StackPanel Grid.Column="0" Grid.Row="0" Margin="0,30,0,0" VerticalAlignment="Top" HorizontalAlignment="Center">
                <DataGrid
        ItemsSource="{Binding CallStatusSummaries}"
        AutoGenerateColumns="False"
        CanUserReorderColumns="False"
        CanUserResizeRows="False"
        CanUserSortColumns="False"
        IsReadOnly="True"
        SelectionMode="Single"
        SelectionUnit="FullRow"
        MouseDoubleClick="DataGrid_MouseDoubleClick"
        Margin="10">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="status" Binding="{Binding Status}" />
                        <DataGridTextColumn Header="amount" Binding="{Binding Amount}" />
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>

        </Grid>

        <!-- Bottom Section -->
        <Grid Grid.Row="1" Margin="10,20,10,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Button FontSize="20" Grid.Column="0" Content="Initialize DB" Click="btnInitDB_Click" Margin="20,60" IsEnabled="{Binding IsSimulatorRunning,Converter={StaticResource InverseBooleanConverterKey}}"/>
            <Button FontSize="20" Grid.Column="1" Content="Reset DB" Click="ResetButton_Click" Margin="20,60" IsEnabled="{Binding IsSimulatorRunning,Converter={StaticResource InverseBooleanConverterKey}}"/>
            <Button FontSize="20" Grid.Column="2" Content="Handle Tutors" Click="btnTutors_Click" Margin="20,60"/>
            <Button FontSize="20" Grid.Column="3" Content="Handle Calls" Click="btnCalls_Click" Margin="20,60"/>
        </Grid>
    </Grid>
</Window>
